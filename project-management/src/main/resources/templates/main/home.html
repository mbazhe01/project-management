<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>

<body>
<nav th:replace="layouts :: navbar"></nav>



<div class="container">
	<h3>Main Dashboard</h3>
	<hr>
	<div class="row">
		<div class="col=md-6">
			<h4>Current Projects</h4>
			<table class="table table-bordered table-striped">
				<thead class="thead-dark">
					<tr>
						<th> Project Name </th>
						<th> Stage </th>
					</tr>
				</thead>
				
				<tr th:each="project:${projectList}">
					<td th:text="${project.name}">
					<td th:text="${project.stage}">
				</tr>
				
			</table>
			
			
		</div>
		
		<!-- javascript pie chart -->
		<div class="col-md-4">
			<canvas id="myPieChart" height="50" width="50">
				<script>
					var chartData = "[[${projectStatusCnt}]]"
				</script>
			</canvas>
		</div>
			
	</div>

</div>

<!-- Employee container -->
<div class="container">
	<div class="row">
		<h4>Employees</h4>
		<table class="table table-bordered table-striped">
			<thead class="thead-dark">
			  <tr>
			    <th>First Name</th>
			    <th>Last Name</th>
			    <th>Project Count</th>
			  </tr>
		  	</thead>
		  <tr th:each="employee:${employeeList}">
		    <td th:text="${employee.firstName}"></td>
		    <td th:text="${employee.lastName}"></td>
		    <td th:text="${employee.projectCount}"></td>
		  </tr>
	   </table>
		
	</div>
	
</div>

<script type="text/javascript" th:src="@{/js/MyChart.js}"></script>
</body>